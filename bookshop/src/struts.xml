<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<!-- 用户 -->
	<package name="struts2-customer" extends="struts-default">
		<action name="customerBar" class="userBarAction">
			<result name="logon">/userBar.jsp</result>
			<result name="notLogon">/notLogonBar.jsp</result>
		</action>
		
		<action name="register" class="customerRegisterAction">
			<result name="input" type="redirect">/register.jsp</result>
			<result name="success" type="redirect">/homepage.jsp</result>
		</action>
		
		<action name="customerLogin" class="customerLoginAction">
			<result name="success" type="chain">homepage</result>
			<result name="input" type="redirect">/login.jsp</result>
		</action>
		
		<action name="customerLogout" class="customerLoginAction" method="logout">
			<result name="success" type="redirect">/login.jsp</result>
		</action>
		
		<action name="homepage" class="homepageAction">
			<result name="success">/homepage.jsp</result>
		</action>
		
		<action name="collectBook" class="collectBookAction">
			<result name="success" type="chain">homepage</result>
		</action>
		
		<action name="bookInCart" class="bookInCartAction">
			<result name="success" type="chain">homepage</result>
		</action>
		
		<action name="myCart" class="myCartAction">
			<result name="success">myCart.jsp</result>
		</action>
		
		<action name="myFavorites" class="myFavoritesAction">
			<result name="success">myFavorites.jsp</result>
		</action>
		
	</package>
	
	<package name="struts2-admin" extends="struts-default" namespace="/admin">
		<action name="adminLogin" class="adminLoginAction">
			<result name="success" type="chain">addBookShow</result>
			<result name="input" type="redirect">/admin/login.jsp</result>
		</action>
		
		<action name="addBookShow" class="addBook" method="show">
			<result name="success">/admin/addBook.jsp</result>
		</action>
		
		<action name="addBook" class="addBook" method="add">
			<result name="success">/admin/addBook.jsp</result>
		</action>
		
		<action name="userBar" class="userBarAction" method="adminBar">
			<result name="logon">/admin/userBar.jsp</result>
			<result name="notLogon">/admin/notLogonBar.jsp</result>
		</action>
		
		<action name="sendCouponsShow" class="sendCouponsAction" method="show">
			<result name="success">/admin/sendCoupons.jsp</result>
		</action>
		
		<action name="sendCoupons" class="sendCouponsAction" method="send">
			<result name="success" type="chain">sendCouponsShow</result>
		</action>
	</package>
	
	<package name="struts2-manager" extends="struts-default" namespace="/manager">
		<action name="managerLogin" class="managerLoginAction">
			<result name="success" type="chain">setCoupons</result>
			<result name="input" type="redirect">/admin/login.jsp</result>
		</action>
		
		<action name="userBar" class="userBarAction" method="managerBar">
			<result name="logon">/admin/userBar.jsp</result>
			<result name="notLogon">/admin/notLogonBar.jsp</result>
		</action>
		
		<action name="setCoupons" class="setCouponsAction" method="show">
			<result name="success">/manager/setCoupons.jsp</result>
		</action>
		
		<action name="addEqualCoupons" class="setCouponsAction" method="addEqualCouponsStandard">
			<result name="success" type="chain">setCoupons</result>
		</action>
		
		<action name="addDiscountCoupons" class="setCouponsAction" method="addDiscountCouponsStandard">
			<result name="success" type="chain">setCoupons</result>
		</action>
	</package>
	
	
</struts> 

