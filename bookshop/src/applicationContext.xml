<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:task="http://www.springframework.org/schema/task"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd 
           http://www.springframework.org/schema/aop 
           http://www.springframework.org/schema/aop/spring-aop-3.0.xsd 
           http://www.springframework.org/schema/tx 
           http://www.springframework.org/schema/tx/spring-tx-3.0.xsd 
           http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd">
    
    <!-- actions -->
    <bean id="customerBarAction" class="edu.nju.bookHouse.action.CustomerBarAction">
	</bean>
	
    <bean id="customerRegisterAction" class="edu.nju.bookHouse.action.CustomerRegisterAction">
    	<property name="userService">
			<ref bean="userService" />
		</property>
	</bean>
	
    <bean id="customerLoginAction" class="edu.nju.bookHouse.action.CustomerLoginAction">
    	<property name="userService">
			<ref bean="userService" />
		</property>
	</bean>
	
    <bean id="homepageAction" class="edu.nju.bookHouse.action.HomepageAction">
    	<property name="categoryService">
			<ref bean="categoryService" />
		</property>
    	<property name="bookService">
			<ref bean="bookService" />
		</property>
	</bean>
	
	
	<!-- services -->
    <bean id="userService" class="edu.nju.bookHouse.service.UserService">
    	<property name="bankService">
			<ref bean="bankService" />
		</property>
    	<property name="dateChanger">
			<ref bean="dateChanger" />
		</property>
    	<property name="userDao">
			<ref bean="userDao" />
		</property>
	</bean>
	
    <bean id="bankService" class="edu.nju.bookHouse.service.BankService">
    	<property name="bankDao">
			<ref bean="bankDao" />
		</property>
	</bean>
	
    <bean id="categoryService" class="edu.nju.bookHouse.service.CategoryService">
    	<property name="categoryDao">
			<ref bean="categoryDao" />
		</property>
	</bean>
	
    <bean id="bookService" class="edu.nju.bookHouse.service.BookService">
    	<property name="bookDao">
			<ref bean="bookDao" />
		</property>
	</bean>
	
	
	<!-- other services -->
    <bean id="dateChanger" class="edu.nju.bookHouse.service.DateChanger">
	</bean>
	
	
	<!-- DAOs -->
	<bean id="daoHelper" class="edu.nju.bookHouse.dao.DaoHelper">
	</bean>
	
	<bean id="userDao" class="edu.nju.bookHouse.dao.UserDao">
    	<property name="daoHelper">
			<ref bean="daoHelper" />
		</property>
	</bean>
	
	<bean id="bankDao" class="edu.nju.bookHouse.dao.BankDao">
    	<property name="daoHelper">
			<ref bean="daoHelper" />
		</property>
	</bean>
	
	<bean id="categoryDao" class="edu.nju.bookHouse.dao.CategoryDao">
    	<property name="daoHelper">
			<ref bean="daoHelper" />
		</property>
	</bean>
	<bean id="bookDao" class="edu.nju.bookHouse.dao.BookDao">
    	<property name="daoHelper">
			<ref bean="daoHelper" />
		</property>
	</bean>
</beans>